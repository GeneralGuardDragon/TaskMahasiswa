

# User

create policy "User can manage own tasks"
on tasks
for all
using (auth.uid() = user_id);

# Task
create table tasks (
  id uuid primary key default uuid_generate_v4(),
  user_id uuid references auth.users(id),
  matkul text,
  deskripsi text,
  deadline date,
  is_done boolean default false,
  created_at timestamp default now()
);


# RSL

alter table tasks enable row level security;

create policy "User can manage own tasks"
on tasks
for all
using (auth.uid() = user_id);
